CREATE TABLE IF NOT EXISTS `lie_entity` ( id int NOT NULL PRIMARY KEY AUTO_INCREMENT, number int(30) DEFAULT NULL, name VARCHAR(1000) DEFAULT NULL, rnn VARCHAR(1000) DEFAULT NULL, iin_bin VARCHAR(1000) DEFAULT NULL, head_of_fio VARCHAR(1000) DEFAULT NULL, founder_fio VARCHAR(1000) DEFAULT NULL, date_of_order VARCHAR(1000) DEFAULT NULL, cancellation_date VARCHAR(1000) DEFAULT NULL);
CREATE TEMPORARY TABLE `lie_entity_temp` ( `number` int(30) DEFAULT NULL, `name` VARCHAR(1000) DEFAULT NULL, `rnn` VARCHAR(1000) DEFAULT NULL, `iin_bin` VARCHAR(1000) DEFAULT NULL, `head_of_fio` VARCHAR(1000) DEFAULT NULL, `founder_fio` VARCHAR(1000) DEFAULT NULL, `date_of_order` VARCHAR(1000) DEFAULT NULL, `cancellation_date` VARCHAR(1000) DEFAULT NULL) DEFAULT CHARSET=utf8;
LOAD DATA LOCAL INFILE 'interprises_parsers/tmp/lie_entity.csv' IGNORE INTO TABLE lie_entity_temp FIELDS TERMINATED BY '\t' ENCLOSED BY '"' ESCAPED BY '\\' LINES TERMINATED BY '\n' IGNORE 1 LINES ( number, name, rnn, iin_bin, head_of_fio, founder_fio, date_of_order, cancellation_date);
INSERT INTO lie_entity ( number,  name,  rnn,  iin_bin,  head_of_fio,  founder_fio,  date_of_order,  cancellation_date)  SELECT  number,  name,  rnn,  iin_bin,  head_of_fio,  founder_fio,  date_of_order,  cancellation_date FROM lie_entity_temp ON DUPLICATE KEY UPDATE   number = VALUES(number),  name = VALUES(name),  rnn = VALUES(rnn),  iin_bin = VALUES(iin_bin),  head_of_fio = VALUES(head_of_fio),  founder_fio = VALUES(founder_fio),  date_of_order = VALUES(date_of_order),  cancellation_date = VALUES(cancellation_date);